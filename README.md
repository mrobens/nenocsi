NENoCSi - Patched Version of Noxim to Process Traffic Generated by NEST
==========================================================================

NENoCSi stands for **NE**ST-**NoC**-Co-**Si**mulation and is the basis of a co-simulation framework to examine network traffic generated by the neuroscientific simulator [NEST](https://nest-simulator.org). It is based on [Noxim](https://github.com/davidepatti/noxim), a network-on-chip simulator developed at the University of Catania (Italy) using the SystemC library and released under "GPL license terms". Modifications within NENoCSi and NENoCSi as a whole are provided by Forschungszentrum Juelich GmbH ([ZEA-2](https://www.fz-juelich.de/en/zea/zea-2), Germany) under the following conditions:
>This program is free software: you can redistribute it and/or modify it under the terms of the [GNU General Pulic License](https://www.gnu.org/licenses/gpl-3.0.html.en) as published by the Free Software Foundation, either version 3 of the license, or (at your option) any later version. This program is distributed in the hope that it will be useful, but without any warranty; without even the implied warranty of merchantability or fitness for a particular purpose. See the [GNU General Pulic License](https://www.gnu.org/licenses/gpl-3.0.html.en) for more details.

**The authors of Noxim would appreciate citation of the following works in any publication to which it has contributed:**

V. Catania, A. Mineo, S. Monteleone, M. Palesi and D. Patti, "Improving the energy efficiency of wireless Network on Chip architectures through online selective buffers and receivers shutdown," 2016 13th IEEE Annual Consumer Communications & Networking Conference (CCNC), Las Vegas, NV, 2016, pp. 668-673, doi: 10.1109/CCNC.2016.7444860.
[Scopus reference](https://www.scopus.com/record/display.uri?eid=2-s2.0-84966659566&origin=resultslist&sort=plf-f&src=s&sid=b531296d946a78b05f463c35c681a44c&sot=autdocs&sdt=autdocs&sl=18&s=AU-ID%2835610853000%29&relpos=14&citeCnt=6&searchTerm=)

V. Catania, A. Mineo, S. Monteleone, M. Palesi and D. Patti, "Energy efficient transceiver in wireless Network on Chip architectures," 2016 Design, Automation & Test in Europe Conference & Exhibition (DATE), Dresden, 2016, pp. 1321-1326.
[Scopus reference](https://www.scopus.com/record/display.uri?eid=2-s2.0-84973661681&origin=resultslist&sort=plf-f&src=s&sid=4bd3ffce04cc0093a84655249383aefa&sot=autdocs&sdt=autdocs&sl=18&s=AU-ID%2835610853000%29&relpos=11&citeCnt=11&searchTerm=)

What's New?
-----------
**[June 2024]**

  * Added scripts to display routing paths lengths information based on NEST output files

**[January 2024]**

  * First release of NENoCSi and auxiliary files to set up the framework for NEST-NoC co-simulation
  * New class for traffic injection from output generated by NEST
  * Support for unicast and local multicast based on this traffic
  * Support for single-flit packets
  * Support for torus shaped networks

Installation
------------

For installation instructions regarding the whole framework, please consult [INSTALL.txt](doc/INSTALL.txt). This file explains step by step how to install NEST as well as NENoCSi. It shows how to copy and modify the PyNEST cortical microcircuit example, or, more precisely, how to extend the existing Python scripts with some entries. Execution of the model then generates two YAML files used for data exchange between NEST and NENoCSi. 
Network simulations that step through different values of the acceleration factor with respect to biological real time can then be initiated by the Bash-scripts located in the [scripts](scripts) subfolder. Images that are created this way are finally located in the subfolders moved to the **bin/results** subfolder.

**For Ubuntu-20.04.2 LTS there is also a shortcut for the installation:** just perform the following two steps. First, install the required system libraries used by NENoCSi as well as NEST:

    sudo apt install -y build-essential libyaml-cpp-dev libboost-dev libboost-filesystem-dev \
	libsystemc libsystemc-dev xutils-dev libtool cmake libreadline-dev gsl-bin libgsl-dev \
	cython3 python3-all-dev python3-numpy python3-scipy python3-matplotlib python3-nose ipython3 \
	python3-future python3-mpi4py libmusic-dev music-bin python3-pip python3-pytest \
	python3-pytest-timeout python3-pytest-xdist gnuplot
	
Then issue the follwing command. It will install NENoCSi as well as NEST in your home folder. The script executed by this command can also be used later on to export the required environment variables used by NEST. It will be available at `${HOME}/nenocsi-1.0/scripts/install/ubuntu-20.04.2-install.sh`. If you consider to install both frameworks, i.e. the present framework and the framework involving McAERsim, the script does account for the requirement that NEST needs to be installed only once. Make sure to copy the full line including *ubuntu-20.04.2-install.sh* and the closing parenthesis. 

    source <(wget -qO- https://raw.githubusercontent.com/mrobens/nenocsi-mcaersim/nenocsi/scripts/install/ubuntu-20.04.2-install.sh)
	
After execution of this command, you should find yourself in the correct directory to immediately launch the simulation scripts.

Quick Start
-----------

As NENoCSi is just an extension to Noxim, it has the same command line interface that accepts several parameters: network topology, network size, routing, selection, and casting scheme as well as the use of wireless connections are just a few examples. To get the full list of parameters, change to the **bin** subfolder and type

    ./nenocsi -help

NENoCSi allows for the evaluation of network performance in terms of throughput, delay, and energy consumption through average as well as per-communication results. More precisely, it will create command line output on the number of received packets, the number of received flits, the received over ideal flit ratio, the average wireless utilization, global average delay, maximum delay, network throughput, average throughput per tile, consumed energy (total/static/dynamic) and - in the case of input generated by NEST - maximum and average burst lengths.
